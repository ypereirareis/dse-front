"use strict";angular.module("databaseSchemaExplorer",["ngAnimate","ngCookies","ngTouch","ngSanitize","restangular","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"}),e.otherwise("/")}]).factory("RestClient",["Restangular",function(t){var e=t.withConfig(function(t){t.setBaseUrl("http://192.168.59.103:3010")});return e}]),angular.module("databaseSchemaExplorer").factory("Repository",["RestClient",function(t){var e=t.all("tables"),a=t.all("execute");return{findAll:function(){return e.getList()},find:function(t){return e.get(t)},execute:function(t){return a.get(t)}}}]),angular.module("databaseSchemaExplorer").controller("MainCtrl",["$scope","Repository",function(t,e){e.findAll().then(function(e){t.tables=e}),t.executeQuery=function(a){e.execute(a).then(function(e){t.results=e})},t.selectTable=function(a,n){e.find(a).then(function(e){t.table=e,t.selectedIndex=n,t.selectSection("primary")})},t.selectSection=function(e){t.section=e}}]),angular.module("databaseSchemaExplorer").run(["$templateCache",function(t){t.put("app/main/main.html",'<header>Database Schema Explorer <small>v0.0.1</small></header><div id="content-main"><div id="content-menu"><h2>Tables <span class="label label-info">{{ tables.length }}</span></h2><form><div class="form-group"><input type="text" class="form-control" id="search" placeholder="Search" data-ng-model="search"></div></form><span data-ng-if="!tables.length" class="glyphicon glyphicon-refresh glyphicon-refresh-animate">Loading...</span><ul data-ng-if="tables.length" class="nav nav-pills nav-stacked"><li role="presentation" data-ng-class="{active: selectedIndex === $index}" data-ng-repeat="t in tables | filter:search"><a href="" data-ng-click="selectTable(t, $index)">{{ t }}</a></li></ul></div><div id="content-right"><div id="content-top"><form><div class="form-group"><input type="text" class="form-control" id="search" placeholder="Search" data-ng-model="search"></div></form><ul class="nav nav-pills nav-stacked"><li role="presentation" data-ng-class="{active: selectedIndex === $index}" data-ng-repeat="t in tables | filter:search"><a href="" data-ng-click="selectTable(t, $index)">{{ t }}</a></li></ul></div><div id="content-middle"><div data-ng-if="!table">You must select a table on the left to show details...</div><div data-ng-if="table"><h2><strong>{{ table.name | uppercase }}</strong></h2><ul class="nav nav-tabs nav-justified" data-ng-init="selectSection(\'primary\')"><li role="presentation" data-ng-class="{active: section === \'primary\'}"><a href="#" data-ng-click="selectSection(\'primary\')">Primary Key <span class="label label-success">{{ table.primary_keys.length }}</span></a></li><li role="presentation" data-ng-class="{active: section === \'column\'}"><a href="#" data-ng-click="selectSection(\'column\')">Columns <span class="label label-success">{{ table.columns.length }}</span></a></li><li role="presentation" data-ng-class="{active: section === \'foreign\'}"><a href="#" data-ng-click="selectSection(\'foreign\')">Foreign keys <span class="label label-success">{{ table.foreign_keys.length }}</span></a></li><li role="presentation" data-ng-class="{active: section === \'index\'}"><a href="#" data-ng-click="selectSection(\'index\')">Indexes <span class="label label-success">{{ table.indexes.length }}</span></a></li></ul><div data-ng-if="section === \'primary\'"><h3>Primary key <span class="label label-success">{{ table.primary_keys.length }}</span></h3><table class="table table-striped table-hover table-condensed"><thead><tr><th>Name</th><th>Columns</th><th>Is unique</th><th>Is primary</th></tr></thead><tbody><tr data-ng-repeat="k in table.primary_keys"><td><strong>{{ k.name | uppercase }}</strong></td><td>{{ k.columns }}</td><td>{{ k.is_unique }}</td><td>{{ k.is_primary }}</td></tr></tbody></table></div><div data-ng-if="section === \'column\'"><h3>Columns <span class="label label-success">{{ table.columns.length }}</span></h3><table class="table table-striped table-hover table-condensed"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Not null</th><th>Length</th><th>Precision</th><th>Scale</th><th>Fixed</th><th>Unsigned</th><th>Auto incr.</th><th>Column def.</th><th>Comment</th></tr></thead><tbody><tr data-ng-repeat="c in table.columns"><td><strong>{{ c.name | uppercase }}</strong></td><td>{{ c.type }}</td><td>{{ c.default }}</td><td>{{ c.notnull }}</td><td>{{ c.length }}</td><td>{{ c.precision }}</td><td>{{ c.scale }}</td><td>{{ c.fixed }}</td><td>{{ c.unsigned }}</td><td>{{ c.autoincrement }}</td><td>{{ c.columnDefinition }}</td><td>{{ c.comment }}</td></tr></tbody></table></div><div data-ng-if="section === \'foreign\'"><h3>Foreign keys <span class="label label-success">{{ table.foreign_keys.length }}</span></h3><table class="table table-striped table-hover table-condensed"><thead><tr><th>Name</th><th>Table</th><th>Column</th><th>Foreign table</th><th>Foreign column</th></tr></thead><tbody><tr data-ng-repeat="k in table.foreign_keys"><td><strong>{{ k.name | uppercase }}</strong></td><td>{{ k.local_table }}</td><td>{{ k.local_column }}</td><td>{{ k.foreign_table }}</td><td>{{ k.foreign_column }}</td></tr></tbody></table></div><div data-ng-if="section === \'index\'"><h3>Indexes <span class="label label-success">{{ table.indexes.length }}</span></h3><table class="table table-striped table-hover table-condensed"><thead><tr><th>Name</th><th>Columns</th><th>Is unique</th><th>Is primary</th></tr></thead><tbody><tr data-ng-repeat="i in table.indexes"><td><strong>{{ i.name | uppercase }}</strong></td><td>{{ i.columns }}</td><td>{{ i.is_unique }}</td><td>{{ i.is_primary }}</td></tr></tbody></table></div></div></div><div id="content-bottom">DÃ©tails ou barre d\'outil si besoin</div></div></div>')}]);